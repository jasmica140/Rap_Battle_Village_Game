#include "villagegame.h"

void mapcli(){

    int i,j,k;
    for(k=0; k<mapy; k++){
        for(i=0; i<mapx; i++){
            mvwprintw(win,14+(k*2),86+(i*6),"+-----");
        }
        mvwprintw(win,14+(k*2),86+(i*6),"+");

        for(i=0; i<mapy-2; i++){
            for(j=0; j<mapx; j++){
                mvwprintw(win,15+(k*2),86+(j*6), "|%s", map[j][k].status.c_str());
            }
        }
        mvwprintw(win,15+(k*2),86+(j*6), "|");
    }

    for(i=0; i<mapx; i++){
        mvwprintw(win,14+(k*2),86+(i*6),"+-----");
    }
    mvwprintw(win,14+(k*2),86+(i*6),"+");
}

void villagecli(int playno){

    string vart;

    int vill = village[playno].rbuildings + village[playno].tbuildings;

    if(vill==0){
        vart = "                                                          |>>>\n"
               "                   _                                       |\n"
               "    ____________ .' '.                                    / \\\n"
               "   //// ////// /V_.-._\\                                  /___\\\n"
               "  // /// // ///==\\ u |.                                 .| u |_ _ _ _ _ _\n"
               " ///////-\\////====\\==|:::::::::::::::::::::::::::::::::::|u u| U U U U U\n"
               " |----/\\u |--|++++|..|'''''''''''::::::::::::::''''''''''|+++|+-+-+-+-+-+\n"
               " |u u|u | |u ||||||..|              '::::::::'           |===|>=== _ _ ==\n"
               " |===|  |u|==|++++|==|              .::::::::.           | T |....| V |..\n"
               " |u u|u | |u ||HH||         \\|/    .::::::::::.\n"
               " |===|_.|u|_.|+HH+|_              .::::::::::::.              _\n"
               "                __(_)___         .::::::::::::::.         ___(_)__\n"
               "---------------/  / \\  /|       .:::::;;;:::;;:::.       |\\  / \\  \\-------\n"
               "______________/_______/ |      .::::::;;:::::;;:::.      | \\_______\\________\n"
               "|       |     [===  =] /|     .:::::;;;::::::;;;:::.     |\\ [==  = ]   |\n"
               "|_______|_____[ = == ]/ |    .:::::;;;:::::::;;;::::.    | \\[ ===  ]___|____\n"
               "     |       |[  === ] /|   .:::::;;;::::::::;;;:::::.   |\\ [=  ===] |\n"
               "_____|_______|[== = =]/ |  .:::::;;;::::::::::;;;:::::.  | \\[ ==  =]_|______\n"
               " |       |    [ == = ] /| .::::::;;:::::::::::;;;::::::. |\\ [== == ]      |\n"
               "_|_______|____[=  == ]/ |.::::::;;:::::::::::::;;;::::::.| \\[  === ]______|_\n"
               "   |       |  [ === =] /.::::::;;::::::::::::::;;;:::::::.\\ [===  =]   |\n"
               "___|_______|__[ == ==]/.::::::;;;:::::::::::::::;;;:::::::.\\[=  == ]___|_____";

    }else if(vill==1){
        vart = "                                                          |>>>\n"
               "                   _                                       |\n"
               "    ____________ .' '.                       /========\\   / \\\n"
               "   //// ////// /V_.-._\\                      | u    u |  /___\\\n"
               "  // /// // ///==\\ u |.                      |   ||   | .| u |_ _ _ _ _ _\n"
               " ///////-\\////====\\==|:::::::::::::::::::::::::::::::::::|u u| U U U U U\n"
               " |----/\\u |--|++++|..|'''''''''''::::::::::::::''''''''''|+++|+-+-+-+-+-+\n"
               " |u u|u | |u ||||||..|              '::::::::'           |===|>=== _ _ ==\n"
               " |===|  |u|==|++++|==|              .::::::::.           | T |....| V |..\n"
               " |u u|u | |u ||HH||         \\|/    .::::::::::.\n"
               " |===|_.|u|_.|+HH+|_              .::::::::::::.              _\n"
               "                __(_)___         .::::::::::::::.         ___(_)__\n"
               "---------------/  / \\  /|       .:::::;;;:::;;:::.       |\\  / \\  \\-------\n"
               "______________/_______/ |      .::::::;;:::::;;:::.      | \\_______\\________\n"
               "|       |     [===  =] /|     .:::::;;;::::::;;;:::.     |\\ [==  = ]   |\n"
               "|_______|_____[ = == ]/ |    .:::::;;;:::::::;;;::::.    | \\[ ===  ]___|____\n"
               "     |       |[  === ] /|   .:::::;;;::::::::;;;:::::.   |\\ [=  ===] |\n"
               "_____|_______|[== = =]/ |  .:::::;;;::::::::::;;;:::::.  | \\[ ==  =]_|______\n"
               " |       |    [ == = ] /| .::::::;;:::::::::::;;;::::::. |\\ [== == ]      |\n"
               "_|_______|____[=  == ]/ |.::::::;;:::::::::::::;;;::::::.| \\[  === ]______|_\n"
               "   |       |  [ === =] /.::::::;;::::::::::::::;;;:::::::.\\ [===  =]   |\n"
               "___|_______|__[ == ==]/.::::::;;;:::::::::::::::;;;:::::::.\\[=  == ]___|_____";

    }else if(vill==2){

        vart = "                                                          |>>>\n"
               "                   _                      _                |\n"
               "    ____________ .' '.                  .' './========\\   / \\\n"
               "   //// ////// /V_.-._\\                |-----| u    u |  /___\\\n"
               "  // /// // ///==\\ u |.                | |T| |   ||   | .| u |_ _ _ _ _ _\n"
               " ///////-\\////====\\==|:::::::::::::::::::::::::::::::::::|u u| U U U U U\n"
               " |----/\\u |--|++++|..|'''''''''''::::::::::::::''''''''''|+++|+-+-+-+-+-+\n"
               " |u u|u | |u ||||||..|              '::::::::'           |===|>=== _ _ ==\n"
               " |===|  |u|==|++++|==|              .::::::::.           | T |....| V |..\n"
               " |u u|u | |u ||HH||         \\|/    .::::::::::.\n"
               " |===|_.|u|_.|+HH+|_              .::::::::::::.              _\n"
               "                __(_)___         .::::::::::::::.         ___(_)__\n"
               "---------------/  / \\  /|       .:::::;;;:::;;:::.       |\\  / \\  \\-------\n"
               "______________/_______/ |      .::::::;;:::::;;:::.      | \\_______\\________\n"
               "|       |     [===  =] /|     .:::::;;;::::::;;;:::.     |\\ [==  = ]   |\n"
               "|_______|_____[ = == ]/ |    .:::::;;;:::::::;;;::::.    | \\[ ===  ]___|____\n"
               "     |       |[  === ] /|   .:::::;;;::::::::;;;:::::.   |\\ [=  ===] |\n"
               "_____|_______|[== = =]/ |  .:::::;;;::::::::::;;;:::::.  | \\[ ==  =]_|______\n"
               " |       |    [ == = ] /| .::::::;;:::::::::::;;;::::::. |\\ [== == ]      |\n"
               "_|_______|____[=  == ]/ |.::::::;;:::::::::::::;;;::::::.| \\[  === ]______|_\n"
               "   |       |  [ === =] /.::::::;;::::::::::::::;;;:::::::.\\ [===  =]   |\n"
               "___|_______|__[ == ==]/.::::::;;;:::::::::::::::;;;:::::::.\\[=  == ]___|_____";

    }else if(vill==3){

        vart = "                                                          |>>>\n"
               "                   _                      _                |\n"
               "    ____________ .' '.             /-\\ .' './========\\   / \\\n"
               "   //// ////// /V_.-._\\            | _ |-----| u    u |  /___\\\n"
               "  // /// // ///==\\ u |.            ||||| |T| |   ||   | .| u |_ _ _ _ _ _\n"
               " ///////-\\////====\\==|:::::::::::::::::::::::::::::::::::|u u| U U U U U\n"
               " |----/\\u |--|++++|..|'''''''''''::::::::::::::''''''''''|+++|+-+-+-+-+-+\n"
               " |u u|u | |u ||||||..|              '::::::::'           |===|>=== _ _ ==\n"
               " |===|  |u|==|++++|==|              .::::::::.           | T |....| V |..\n"
               " |u u|u | |u ||HH||         \\|/    .::::::::::.\n"
               " |===|_.|u|_.|+HH+|_              .::::::::::::.              _\n"
               "                __(_)___         .::::::::::::::.         ___(_)__\n"
               "---------------/  / \\  /|       .:::::;;;:::;;:::.       |\\  / \\  \\-------\n"
               "______________/_______/ |      .::::::;;:::::;;:::.      | \\_______\\________\n"
               "|       |     [===  =] /|     .:::::;;;::::::;;;:::.     |\\ [==  = ]   |\n"
               "|_______|_____[ = == ]/ |    .:::::;;;:::::::;;;::::.    | \\[ ===  ]___|____\n"
               "     |       |[  === ] /|   .:::::;;;::::::::;;;:::::.   |\\ [=  ===] |\n"
               "_____|_______|[== = =]/ |  .:::::;;;::::::::::;;;:::::.  | \\[ ==  =]_|______\n"
               " |       |    [ == = ] /| .::::::;;:::::::::::;;;::::::. |\\ [== == ]      |\n"
               "_|_______|____[=  == ]/ |.::::::;;:::::::::::::;;;::::::.| \\[  === ]______|_\n"
               "   |       |  [ === =] /.::::::;;::::::::::::::;;;:::::::.\\ [===  =]   |\n"
               "___|_______|__[ == ==]/.::::::;;;:::::::::::::::;;;:::::::.\\[=  == ]___|_____";

    } else if(vill==4){
        vart = "                                                          |>>>\n"
               "                   _                      _                |\n"
               "    ____________ .' '.        /----/-\\ .' './========\\   / \\\n"
               "   //// ////// /V_.-._\\        |===| _ |-----| u    u |  /___\\\n"
               "  // /// // ///==\\ u |.        |===||||| |T| |   ||   | .| u |_ _ _ _ _ _\n"
               " ///////-\\////====\\==|:::::::::::::::::::::::::::::::::::|u u| U U U U U\n"
               " |----/\\u |--|++++|..|'''''''''''::::::::::::::''''''''''|+++|+-+-+-+-+-+\n"
               " |u u|u | |u ||||||..|              '::::::::'           |===|>=== _ _ ==\n"
               " |===|  |u|==|++++|==|              .::::::::.           | T |....| V |..\n"
               " |u u|u | |u ||HH||         \\|/    .::::::::::.\n"
               " |===|_.|u|_.|+HH+|_              .::::::::::::.              _\n"
               "                __(_)___         .::::::::::::::.         ___(_)__\n"
               "---------------/  / \\  /|       .:::::;;;:::;;:::.       |\\  / \\  \\-------\n"
               "______________/_______/ |      .::::::;;:::::;;:::.      | \\_______\\________\n"
               "|       |     [===  =] /|     .:::::;;;::::::;;;:::.     |\\ [==  = ]   |\n"
               "|_______|_____[ = == ]/ |    .:::::;;;:::::::;;;::::.    | \\[ ===  ]___|____\n"
               "     |       |[  === ] /|   .:::::;;;::::::::;;;:::::.   |\\ [=  ===] |\n"
               "_____|_______|[== = =]/ |  .:::::;;;::::::::::;;;:::::.  | \\[ ==  =]_|______\n"
               " |       |    [ == = ] /| .::::::;;:::::::::::;;;::::::. |\\ [== == ]      |\n"
               "_|_______|____[=  == ]/ |.::::::;;:::::::::::::;;;::::::.| \\[  === ]______|_\n"
               "   |       |  [ === =] /.::::::;;::::::::::::::;;;:::::::.\\ [===  =]   |\n"
               "___|_______|__[ == ==]/.::::::;;;:::::::::::::::;;;:::::::.\\[=  == ]___|_____";
    } else if(vill>=5){

        vart = "                                                          |>>>\n"
               "                   _                      _                |\n"
               "    ____________ .' '.    _____/----/-\\ .' './========\\   / \\\n"
               "   //// ////// /V_.-._\\  |.-.-.|===| _ |-----| u    u |  /___\\\n"
               "  // /// // ///==\\ u |.  || | ||===||||| |T| |   ||   | .| u |_ _ _ _ _ _\n"
               " ///////-\\////====\\==|:::::::::::::::::::::::::::::::::::|u u| U U U U U\n"
               " |----/\\u |--|++++|..|'''''''''''::::::::::::::''''''''''|+++|+-+-+-+-+-+\n"
               " |u u|u | |u ||||||..|              '::::::::'           |===|>=== _ _ ==\n"
               " |===|  |u|==|++++|==|              .::::::::.           | T |....| V |..\n"
               " |u u|u | |u ||HH||         \\|/    .::::::::::.\n"
               " |===|_.|u|_.|+HH+|_              .::::::::::::.              _\n"
               "                __(_)___         .::::::::::::::.         ___(_)__\n"
               "---------------/  / \\  /|       .:::::;;;:::;;:::.       |\\  / \\  \\-------\n"
               "______________/_______/ |      .::::::;;:::::;;:::.      | \\_______\\________\n"
               "|       |     [===  =] /|     .:::::;;;::::::;;;:::.     |\\ [==  = ]   |\n"
               "|_______|_____[ = == ]/ |    .:::::;;;:::::::;;;::::.    | \\[ ===  ]___|____\n"
               "     |       |[  === ] /|   .:::::;;;::::::::;;;:::::.   |\\ [=  ===] |\n"
               "_____|_______|[== = =]/ |  .:::::;;;::::::::::;;;:::::.  | \\[ ==  =]_|______\n"
               " |       |    [ == = ] /| .::::::;;:::::::::::;;;::::::. |\\ [== == ]      |\n"
               "_|_______|____[=  == ]/ |.::::::;;:::::::::::::;;;::::::.| \\[  === ]______|_\n"
               "   |       |  [ === =] /.::::::;;::::::::::::::;;;:::::::.\\ [===  =]   |\n"
               "___|_______|__[ == ==]/.::::::;;;:::::::::::::::;;;:::::::.\\[=  == ]___|_____";
    }


    mvwprintw(win,1,1,"%s",vart.c_str());

    mvwprintw(win,2,80,"Player 1's village:");
    mvwprintw(win,3,81,"Village health: %d",village[playno].health);
    mvwprintw(win,4,81,"Troops: %d",village[playno].troops);
    mvwprintw(win,5,81,"Resource generating buildings: %d",village[playno].rbuildings);
    mvwprintw(win,6,81,"Troop training buildings: %d",village[playno].tbuildings);


    mvwprintw(win,8,80,"Resources:\n");
    mvwprintw(win,9,81,"Tools: %d\n",resource[playno][0].amount);
    mvwprintw(win,10,81,"Food: %d\n",resource[playno][1].amount);
    mvwprintw(win,11,81,"Money: %d\n",resource[playno][2].amount);
}

void refreshcli(int playno){
    wclear(win);
    wrefresh(win);
    villagecli(playno);
    mvwprintw(win,1,1,"Player %d's turn!",playno+1);
    mapcli();
}